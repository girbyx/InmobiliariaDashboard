@using InmobiliariaDashboard.Shared
<div class="top-row pl-4 navbar navbar-dark">
    <a class="navbar-brand" href="">InDash</a>
    <button class="navbar-toggler" @onclick="ToggleNavMenu">
        <span class="navbar-toggler-icon"></span>
    </button>
</div>

<div class="@NavMenuCssClass" @onclick="ToggleNavMenu">
    <ul class="nav flex-column">
        @*<li class="nav-item px-3">
            <NavLink class="nav-link" href="" Match="NavLinkMatch.All">
                <span class="oi oi-home" aria-hidden="true"></span> Home
            </NavLink>
        </li>*@

        <li class="nav-item px-3">
            <NavLink class="nav-link" href="client/list">
                <span class="oi oi-people" aria-hidden="true"></span> Clients
            </NavLink>
        </li>
        <li class="nav-item px-3">
            <NavLink class="nav-link" href="project/list">
                <span class="oi oi-project" aria-hidden="true"></span> Projects
            </NavLink>
        </li>

        <li class="nav-item px-3">
            <NavLink @onclick="()=> SubMenuNavigation.CostSubMenu = !SubMenuNavigation.CostSubMenu" class="nav-link">
                <span class="oi oi-dollar" aria-hidden="true"></span> Costs
            </NavLink>
        </li>
        @if (SubMenuNavigation.CostSubMenu)
        {
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="cost/list">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> Costs
                </NavLink>
            </li>
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="costtype/list">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> Cost types
                </NavLink>
            </li>
        }

        <li class="nav-item px-3">
            <NavLink @onclick="()=> SubMenuNavigation.GainSubMenu = !SubMenuNavigation.GainSubMenu" class="nav-link">
                <span class="oi oi-thumb-up" aria-hidden="true"></span> Gains
            </NavLink>
        </li>
        @if (SubMenuNavigation.GainSubMenu)
        {
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="gaintype/list">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> Gain types
                </NavLink>
            </li>
        }

        <li class="nav-item px-3">
            <NavLink @onclick="()=> SubMenuNavigation.LossSubMenu = !SubMenuNavigation.LossSubMenu" class="nav-link">
                <span class="oi oi-thumb-down" aria-hidden="true"></span> Losses
            </NavLink>
        </li>
        @if (SubMenuNavigation.LossSubMenu)
        {
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="losstype/list">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> Loss types
                </NavLink>
            </li>
        }

        <li class="nav-item px-3">
            <NavLink @onclick="()=> SubMenuNavigation.ReportSubMenu = !SubMenuNavigation.ReportSubMenu" class="nav-link">
                <span class="oi oi-document" aria-hidden="true"></span> Reports
            </NavLink>
        </li>
        @if (SubMenuNavigation.ReportSubMenu)
        {
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="report/cost">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> Costs report
                </NavLink>
            </li>
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="report/gain">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> Gains report
                </NavLink>
            </li>
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="report/loss">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> Losses report
                </NavLink>
            </li>
            <li class="nav-item px-3">
                <NavLink class="nav-link" href="report/general">
                    <span class="oi oi-caret-right" aria-hidden="true"></span> General balance
                </NavLink>
            </li>
        }
    </ul>
</div>

@code {
    private bool _collapseNavMenu = true;
    private string NavMenuCssClass => _collapseNavMenu ? "collapse" : null;
    private SubMenuNavigation SubMenuNavigation { get; set; } = new SubMenuNavigation();

    private void ToggleNavMenu()
    {
        _collapseNavMenu = !_collapseNavMenu;
    }
}
