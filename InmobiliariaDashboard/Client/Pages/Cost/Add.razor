@page "/cost/add"
@inherits AddBase

<h1>Add cost</h1>

<EditForm Model="@Record" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="form-row">
        <div class="col form-group">
            <label>Value</label>
            <input type="number" class="form-control" @bind="Record.Value" />
        </div>
        <FormSelectRecord @bind-Value="Record.CostTypeId" Records="Record.CostTypes" Title="Cost types"></FormSelectRecord>
    </div>

    <div class="form-row">
        <div class="col form-group">
            <label>Commission</label>
            <input type="number" class="form-control" @bind="Record.Commission" />
        </div>
        <FormSelectEnum @bind-Value="Record.CommissionType" Records="CommissionTypes" Title="Commission types"></FormSelectEnum>
    </div>

    <div class="form-row">
        <FormSelectRecord OnChangeCallback="OnProjectChange" @bind-Value="Record.ProjectId" Records="Record.Projects" Title="Projects"></FormSelectRecord>
        <FormSelectRecord @bind-Value="Record.AccountId" Records="Record.Accounts" Title="Accounts"></FormSelectRecord>
    </div>

    <div class="form-row">
        <div class="col form-group">
            <label>Description</label>
            <input type="text" class="form-control" @bind="Record.Description" />
        </div>
    </div>

    <button type="submit" class="btn btn-success">Save</button>
    <button type="button" class="btn btn-secondary" @onclick="OnCancelClick">Cancel</button>
</EditForm>